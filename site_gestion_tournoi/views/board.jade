extends layout

block content

    h1= nameTournament   
    h2  
        ul
            il 
                a(href="/teams?idTournament=" + idTournament + "&nameTournament=" + nameTournament) Ajouter les concurrents/équipes
            il 
                a(href="/results?idTournament=" + idTournament + "&nameTournament=" + nameTournament) Calendrier / Résultats
            il 
                a(href="/ranking?idTournament=" + idTournament + "&nameTournament=" + nameTournament) Classements   

    input#inputGroup(type="radio" name="typetournament",value=1, onchange="changePage();")
    label(for="inputGroup") Groupe
    br
    input#inputBoard(type="radio" name="typetournament",value=2, checked="checked", onchange="changePage();")
    label(for="inputBoard") Tableau
    br

    input#nameTournament(type="text" name="nameTournament", value=nameTournament, hidden = "hidden")
    input#idTournament(type="text" name="idTournament", value=idTournament, hidden = "hidden")
     
    .tournament_board
        .item
            .item__number 1
            .item__teams
                .item__team
                    .team__number 1
                    .team__name Brest
                .item__team
                    .team__number 8
                    .team__name Paris SG
        .item
            .item__number 8
            .item__teams
                .item__team
                    .team__number 1
                    .team__name Brest
                .item__team
                    .team__number 8
                    .team__name Paris SG
        .item
            .item__number 2
            .item__teams
                .item__team
                    .team__number 4
                    .team__name Juv
                .item__team
                    .team__number 5
                    .team__name Bayern
        .item
            .item__number 3
            .item__teams
                .item__team
                    .team__number 2
                    .team__name Lorem ipsum
                .item__team
                    .team__number 7
                    .team__name Dolores sit amet
        .item
            .item__number 4
            .item__teams
                .item__team
                    .team__number 5
                    .team__name Bayern
                .item__team
                    .team__number 6
                    .team__name Lorem
        .item
            .item__number 5
            .item__teams
                .item__team
                    .team__number 8
                    .team__name Paris SG
                .item__team  
                    .team__number 5
                    .team__name Loirem
        .item
            .item__number 6
            .item__teams
                .item__team
                    .team__number 6
                    .team__name Lorem
                .item__team
                    .team__number 2
                    .team__name Lorem
        .item
            .item__number 7
            .item__teams
                .item__team
                    .team__number 8
                    .team__name Paris SG
                .item__team
                    .team__number 7
                    .team__name Paris SG
        span.separator
            .container
                .line1
                .line2
                .line3
                .line4
        span.separator
            .container
                .line1
                .line2
                .line3
                .line4
        span.separator
            .container
                .line1
                .line2
                .line3
                .line4
        

    script(type='text/javascript').

        function changePage()
        {
            var isGroup = document.getElementById("inputGroup");
            var isBoard = document.getElementById("inputBoard");
            var idTournament =document.getElementById("idTournament").value;
            var nameTournament = document.getElementById("nameTournament").value;

            if (isBoard.checked)
            {
                var xhr = new XMLHttpRequest();
                var data = JSON.stringify(
                {
                    "idTournament": idTournament,
                    "nameTournament": nameTournament
                }
                );
                xhr.open('GET','/board?idTournament=' + idTournament + '&nameTournament=' + nameTournament);
                //xhr.setRequestHeader("Content-type", "application/json");
                xhr.send();
            }
            if (isGroup.checked)
            {
                var xhr = new XMLHttpRequest();
                var data = JSON.stringify(
                {
                    "idTournament": idTournament,
                    "nameTournament": nameTournament
                }
                );
                xhr.open('GET','/result?idTournament=' + idTournament + '&nameTournament=' + nameTournament);
                //xhr.setRequestHeader("Content-type", "application/json");
                xhr.send();
            }
        }